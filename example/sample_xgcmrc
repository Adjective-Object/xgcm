[lua]

    --  a simple test function for verifying that
    --  lua functions are callable from xgcm tags

    print_test = function ()
        return "test successful!"
    end

    -- for printing a table's values nicely

    function table_val_to_str ( v )
      if "string" == type( v ) then
        v = string.gsub( v, "\n", "\\n" )
        if string.match( string.gsub(v,"[^'\"]",""), '^"+$' ) then
          return "'" .. v .. "'"
        end
        return '"' .. string.gsub(v,'"', '\\"' ) .. '"'
      else
        return "table" == type( v ) and table_tostring( v ) or
          tostring( v )
      end
    end

    function table_key_to_str ( k )
      if "string" == type( k ) and string.match( k, "^[_%a][_%a%d]*$" ) then
        return k
      else
        return "[" .. table_val_to_str( k ) .. "]"
      end
    end

    function table_tostring( tbl )
      local result, done = {}, {}
      for k, v in ipairs( tbl ) do
        table_insert( result, table_val_to_str( v ) )
        done[ k ] = true
      end
      for k, v in pairs( tbl ) do
        if not done[ k ] then
          table_insert( result,
            table_key_to_str( k ) .. "=" .. table_val_to_str( v ) )
        end
      end
      return "{" .. table_concat( result, "," ) .. "}"
    end

[xgcm]
    files = ./
 
    file_extension = "xgcm"
    tempdir_path = "/tmp/xgcm/"
    tempfile_prefix = "TEMP_"

    multiline_divider = " "

    include =
        ./sample_xgcmrc_2

[attributes]
    tool_name = xgcm
    tool_pronunciation = Ziggy see em

    contributors =
        Adjective-Object
        Maybe you?


    multiple_assignment_test = 
        Multiple
        Assignment
        Test
        This
        Value
        Should
        Be
        Multiple Assignment Test Successful!
